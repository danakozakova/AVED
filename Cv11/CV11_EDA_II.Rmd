---
title: "CviÄenÃ­ 11: Exploratory Data Analysis II"
subtitle: "MPE_AVED - AnalÃ½za a vizualizace ekonomickÃ½ch dat"
author: "VaÅ¡e meno"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
    number_sections: true
    theme: cosmo
    highlight: tango
    code_folding: show
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  warning = FALSE,
  message = FALSE,
  comment = "#>",
  fig.width = 8,
  fig.height = 6
)
```

# ğŸ“š Ãšvod

V tomto cviÄenÃ­ pokraÄujeme v **exploratornÃ­ analÃ½ze dat (EDA)** s dÅ¯razem na:

- **PopisnÃ© statistiky** - mean, median, sd, quartiles
- **SeskupenÃ© analÃ½zy** - statistiky podle kategoriÃ­
- **VytvÃ¡Å™enÃ­ souhrnnÃ½ch tabulek** - agregace a sumarizace dat
- **PokroÄilÃ© vizualizace** - kombinace grafÅ¯ a tabulek
- **Identifikace vzorÅ¯** - hledÃ¡nÃ­ zajÃ­mavÃ½ch vztahÅ¯ v datech
- **Interpretace vÃ½sledkÅ¯** - praktickÃ© zÃ¡vÄ›ry z analÃ½z

# ğŸ“¦ NaÄÃ­tÃ¡nÃ­ balÃ­kÅ¯

```{r packages}
# NaÄtÄ›te potÅ™ebnÃ© balÃ­ky


```

---

# ğŸ”¥ NÄ›co na zahÅ™Ã¡tÃ­...

ÃšvodnÃ­ cviÄenÃ­ pro pÅ™ipomenutÃ­ zÃ¡kladnÃ­ch technik EDA.

## NaÄtenÃ­ dat

```{r zahnuti_data}
# NaÄtÄ›te data pro zahÅ™Ã­vacÃ­ cviÄenÃ­


# Prozkoumejte strukturu dat


```

## Varianta I

**ZadÃ¡nÃ­:** ProveÄte zÃ¡kladnÃ­ exploraci dat pomocÃ­ vizualizace.

```{r zahnuti_varianta_1}
# VytvoÅ™te zÃ¡kladnÃ­ grafy
# - Histogram pro spojitÃ© promÄ›nnÃ©
# - SloupcovÃ½ graf pro kategorickÃ© promÄ›nnÃ©
# - Scatter plot pro vztahy


```

## Varianta II

**ZadÃ¡nÃ­:** ProveÄte exploraci pomocÃ­ popisnÃ½ch statistik.

```{r zahnuti_varianta_2}
# VypoÄÃ­tejte popisnÃ© statistiky
# - summary()
# - mean(), median(), sd()
# - quantile()
# - SeskupenÃ© statistiky pomocÃ­ group_by() + summarise()


```

---

# ğŸ“Š Ãškol A: KomplexnÃ­ popisnÃ¡ analÃ½za

SystematickÃ¡ analÃ½za datasetu s kombinacÃ­ grafÅ¯ a tabulek.

## NaÄtenÃ­ dat

```{r ukol_a_data}
# NaÄtÄ›te data pro Ãºkol A


# ZÃ¡kladnÃ­ pÅ™ehled


```

## Krok 1: UnivariÃ¡tnÃ­ analÃ½za

**ZadÃ¡nÃ­:** Analyzujte kaÅ¾dou promÄ›nnou samostatnÄ›.

```{r ukol_a_krok1}
# Pro kaÅ¾dou promÄ›nnou:
# 1. PopisnÃ© statistiky
# 2. VhodnÃ¡ vizualizace (histogram/barplot)
# 3. Kontrola outliers
# 4. PoÄet chybÄ›jÃ­cÃ­ch hodnot


```

**OtÃ¡zky:**
- KterÃ¡ promÄ›nnÃ¡ mÃ¡ nejvÃ­ce outliers?
- Jsou data normÃ¡lnÄ› rozdÄ›lenÃ¡?
- ExistujÃ­ vÃ½znamnÃ© chybÄ›jÃ­cÃ­ hodnoty?

## Krok 2: BivariÃ¡tnÃ­ analÃ½za

**ZadÃ¡nÃ­:** Analyzujte vztahy mezi pÃ¡ry promÄ›nnÃ½ch.

```{r ukol_a_krok2}
# VytvoÅ™te:
# 1. Scatter ploty pro spojitÃ© promÄ›nnÃ©
# 2. Box ploty pro spojitÃ© vs. kategorickÃ©
# 3. KorelaÄnÃ­ matici


```

**Interpretace:**
- KterÃ© promÄ›nnÃ© jsou nejvÃ­ce korelovÃ¡ny?
- ExistujÃ­ nelineÃ¡rnÃ­ vztahy?

## Krok 3: SouhrnnÃ¡ tabulka

**ZadÃ¡nÃ­:** VytvoÅ™te pÅ™ehlednou souhrnnou tabulku s klÃ­ÄovÃ½mi statistikami.

```{r ukol_a_krok3}
# VytvoÅ™te tabulku obsahujÃ­cÃ­:
# - N (poÄet pozorovÃ¡nÃ­)
# - Mean
# - Median
# - SD
# - Min, Max
# - Quartiles


```

---

# ğŸ” Ãškol B: PorovnÃ¡nÃ­ skupin

AnalÃ½za rozdÃ­lÅ¯ mezi skupinami pomocÃ­ grafÅ¯ a statistik.

## NaÄtenÃ­ dat

```{r ukol_b_data}
# NaÄtÄ›te data s kategoriÃ¡lnÃ­ promÄ›nnou


# Prozkoumejte kategorie


```

## PomocÃ­ obrÃ¡zku

**ZadÃ¡nÃ­:** Porovnejte skupiny vizuÃ¡lnÄ›.

```{r ukol_b_obrazek}
# VytvoÅ™te grafy pro porovnÃ¡nÃ­ skupin:
# - Box ploty podle skupin
# - Violin ploty
# - Density ploty s pÅ™ekrytÃ­m
# - FacetovanÃ© histogramy


```

**OtÃ¡zky:**
- KterÃ¡ skupina mÃ¡ nejvyÅ¡Å¡Ã­ prÅ¯mÄ›rnou hodnotu?
- Jsou rozdÃ­ly mezi skupinami vizuÃ¡lnÄ› patrnÃ©?
- ExistujÃ­ outliers v nÄ›kterÃ½ch skupinÃ¡ch?

## PomocÃ­ popisnÃ½ch statistik

**ZadÃ¡nÃ­:** VypoÄÃ­tejte statistiky pro kaÅ¾dou skupinu.

```{r ukol_b_statistiky}
# SeskupenÃ© statistiky pomocÃ­ group_by()
# - PoÄet pozorovÃ¡nÃ­ v kaÅ¾dÃ© skupinÄ›
# - PrÅ¯mÄ›r
# - MediÃ¡n
# - SmÄ›rodatnÃ¡ odchylka
# - Min, Max


```

**Interpretace:**
- Jsou rozdÃ­ly mezi skupinami statisticky vÃ½znamnÃ©?
- KterÃ¡ skupina mÃ¡ nejvÄ›tÅ¡Ã­ variabilitu?

---

# ğŸ“ˆ Ãškol C: Tvorba reportovacÃ­ch tabulek

VytvÃ¡Å™enÃ­ profesionÃ¡lnÃ­ch tabulek pro prezentaci vÃ½sledkÅ¯.

## NaÄtenÃ­ dat

```{r ukol_c_data}
# NaÄtÄ›te data pro tvorbu tabulek


```

## Krok 1: ZÃ¡kladnÃ­ agregaÄnÃ­ tabulka

**ZadÃ¡nÃ­:** VytvoÅ™te tabulku s agregovanÃ½mi statistikami podle kategoriÃ­.

```{r ukol_c_krok1}
# PouÅ¾ijte dplyr pro agregaci
# group_by() + summarise()


```

## Krok 2: FormÃ¡tovanÃ¡ tabulka

**ZadÃ¡nÃ­:** VylepÅ¡ete tabulku pomocÃ­ kable nebo gt balÃ­ku.

```{r ukol_c_krok2}
# PouÅ¾ijte kableExtra nebo gt pro formÃ¡tovÃ¡nÃ­
# - ZarovnÃ¡nÃ­ sloupcÅ¯
# - ZaokrouhlenÃ­ ÄÃ­sel
# - PÅ™idÃ¡nÃ­ zÃ¡hlavÃ­
# - Styling


```

## Krok 3 (s hvÄ›zdiÄkou) â­

**ZadÃ¡nÃ­:** VytvoÅ™te komplexnÃ­ pivot tabulku s vÃ­ce dimenzemi.

```{r ukol_c_krok3}
# VytvoÅ™te pivot tabulku
# - Å˜Ã¡dky: jedna kategorie
# - Sloupce: druhÃ¡ kategorie
# - Hodnoty: agregovanÃ¡ statistika


```

## Krok 4: Export tabulky

**ZadÃ¡nÃ­:** UloÅ¾te tabulku do souboru.

```{r ukol_c_krok4}
# Export do CSV, Excel nebo jako obrÃ¡zek


```

---

# ğŸ—³ï¸ Ãškol D: Free and fair

AnalÃ½za dat s reÃ¡lnÃ½m ekonomickÃ½m nebo politickÃ½m kontextem.

## NaÄtenÃ­ dat

```{r ukol_d_data}
# NaÄtÄ›te data


# Kontext dat


```

## Krok 1: ExplorativnÃ­ pÅ™ehled

**ZadÃ¡nÃ­:** ProveÄte kompletnÃ­ explorativnÃ­ pÅ™ehled datasetu.

```{r ukol_d_krok1}
# 1. Dimenze dat
# 2. Typy promÄ›nnÃ½ch
# 3. ChybÄ›jÃ­cÃ­ hodnoty
# 4. ZÃ¡kladnÃ­ statistiky
# 5. RozloÅ¾enÃ­ klÃ­ÄovÃ½ch promÄ›nnÃ½ch


```

## Krok 2, varianta I: VizuÃ¡lnÃ­ analÃ½za

**ZadÃ¡nÃ­:** VytvoÅ™te sÃ©rii grafÅ¯ odhalujÃ­cÃ­ch hlavnÃ­ vzory v datech.

```{r ukol_d_krok2_var1}
# VytvoÅ™te:
# 1. Graf ÄasovÃ©ho vÃ½voje (pokud relevantnÃ­)
# 2. PorovnÃ¡nÃ­ mezi skupinami
# 3. Scatter plot s trendovou ÄÃ¡rou
# 4. FacetovanÃ© grafy podle kategoriÃ­


```

**Interpretace:**
- JakÃ© jsou hlavnÃ­ poznatky z grafÅ¯?
- ExistujÃ­ pÅ™ekvapivÃ© vzory?

## Krok 2, varianta II: StatistickÃ¡ analÃ½za

**ZadÃ¡nÃ­:** ProveÄte detailnÃ­ statistickou analÃ½zu.

```{r ukol_d_krok2_var2}
# VypoÄÃ­tejte:
# 1. KorelaÄnÃ­ matici
# 2. SeskupenÃ© statistiky podle klÃ­ÄovÃ½ch kategoriÃ­
# 3. Percentily a kvantily
# 4. Identifikace outliers


```

**ZÃ¡vÄ›ry:**
- KterÃ© promÄ›nnÃ© jsou nejdÅ¯leÅ¾itÄ›jÅ¡Ã­?
- JakÃ© vztahy existujÃ­ mezi promÄ›nnÃ½mi?

---

# ğŸ“Š PokroÄilÃ© techniky

## Tvorba kompozitnÃ­ch indexÅ¯

```{r pokrocile_1}
# VytvoÅ™enÃ­ skÃ³re z vÃ­ce promÄ›nnÃ½ch
# - Normalizace promÄ›nnÃ½ch
# - VÃ¡hovanÃ½ prÅ¯mÄ›r
# - Z-skÃ³re


```

## Clustering a segmentace

```{r pokrocile_2}
# JednoduchÃ© seskupovÃ¡nÃ­ dat
# - K-means
# - HierarchickÃ© shlukovÃ¡nÃ­


```

## Detekce anomÃ¡liÃ­

```{r pokrocile_3}
# Identifikace neobvyklÃ½ch pozorovÃ¡nÃ­
# - IQR metoda
# - Z-skÃ³re
# - Isolation forest


```

---

# ğŸ’¡ DÅ¯leÅ¾itÃ© poznÃ¡mky

## PopisnÃ© statistiky - pÅ™ehled

| Statistika | Funkce | Popis |
|------------|--------|-------|
| StÅ™ednÃ­ hodnota | `mean(x)` | PrÅ¯mÄ›r hodnot |
| MediÃ¡n | `median(x)` | ProstÅ™ednÃ­ hodnota |
| Modus | - | NejÄastÄ›jÅ¡Ã­ hodnota |
| SmÄ›rodatnÃ¡ odchylka | `sd(x)` | MÃ­ra rozptylu |
| Rozptyl | `var(x)` | ÄŒtverec smÄ›rodatnÃ© odchylky |
| IQR | `IQR(x)` | MezikvartilovÃ© rozpÄ›tÃ­ |
| Minimum | `min(x)` | NejmenÅ¡Ã­ hodnota |
| Maximum | `max(x)` | NejvÄ›tÅ¡Ã­ hodnota |
| Kvantily | `quantile(x)` | Percentily |
| PoÄet | `n()` | Velikost vzorku |

## SeskupenÃ¡ analÃ½za

```r
# ZÃ¡kladnÃ­ pattern
data %>%
  group_by(kategorie) %>%
  summarise(
    n = n(),
    mean = mean(hodnota, na.rm = TRUE),
    median = median(hodnota, na.rm = TRUE),
    sd = sd(hodnota, na.rm = TRUE)
  )
```

## ChybÄ›jÃ­cÃ­ hodnoty

```r
# Kontrola NA
sum(is.na(data))
colSums(is.na(data))

# Procento chybÄ›jÃ­cÃ­ch
mean(is.na(data$variable)) * 100

# OdstranÄ›nÃ­ NA
na.omit(data)
drop_na(data)

# Imputace
data %>%
  mutate(var = replace_na(var, mean(var, na.rm = TRUE)))
```

## Outliers

```r
# IQR metoda
Q1 <- quantile(x, 0.25)
Q3 <- quantile(x, 0.75)
IQR <- Q3 - Q1
lower_bound <- Q1 - 1.5 * IQR
upper_bound <- Q3 + 1.5 * IQR

outliers <- x < lower_bound | x > upper_bound
```

---

# ğŸ“‹ UÅ¾iteÄnÃ© funkce pro EDA

## Base R funkce

```r
# PÅ™ehled
str(data)           # Struktura
summary(data)       # ZÃ¡kladnÃ­ statistiky
head(data, n = 6)   # PrvnÃ­ch n Å™Ã¡dkÅ¯
tail(data, n = 6)   # PoslednÃ­ch n Å™Ã¡dkÅ¯
dim(data)           # Dimenze
names(data)         # NÃ¡zvy sloupcÅ¯

# Statistiky
mean(x, na.rm = TRUE)
median(x, na.rm = TRUE)
sd(x, na.rm = TRUE)
var(x, na.rm = TRUE)
range(x, na.rm = TRUE)
```

## dplyr funkce

```r
# PÅ™ehled
glimpse(data)       # KompaktnÃ­ pÅ™ehled

# Agregace
group_by(data, kategorie)
summarise(data, stat = mean(hodnota))
count(data, kategorie)

# Transformace
mutate(data, nova = stara * 2)
filter(data, podminka)
select(data, sloupce)
arrange(data, sloupec)
```

## VizualizaÄnÃ­ funkce

```r
# Base R
hist(x)
plot(x, y)
boxplot(y ~ x)
pairs(data)

# ggplot2
ggplot(data, aes(x, y)) +
  geom_point()
  
ggplot(data, aes(x)) +
  geom_histogram()
  
ggplot(data, aes(x, y)) +
  geom_boxplot()
```

---

# ğŸ¯ Checklist pro EDA

- [ ] NaÄetl jsem data a zkontroloval jejich strukturu?
- [ ] Identifikoval jsem typy promÄ›nnÃ½ch (spojitÃ©/kategorickÃ©)?
- [ ] Zkontroloval jsem chybÄ›jÃ­cÃ­ hodnoty?
- [ ] VypoÄÃ­tal jsem popisnÃ© statistiky pro vÅ¡echny promÄ›nnÃ©?
- [ ] VytvoÅ™il jsem vhodnÃ© vizualizace pro kaÅ¾dou promÄ›nnou?
- [ ] Identifikoval jsem outliers?
- [ ] Analyzoval jsem vztahy mezi promÄ›nnÃ½mi?
- [ ] Provedl jsem seskupenou analÃ½zu podle kategoriÃ­?
- [ ] Dokumentoval jsem svÃ© poznatky?
- [ ] Formuloval jsem hypotÃ©zy pro dalÅ¡Ã­ analÃ½zu?

---

# ğŸ“Š EDA report template

```r
## 1. Ãšvod
# - Popis dat
# - VÃ½zkumnÃ© otÃ¡zky
# - CÃ­le analÃ½zy

## 2. Popis dat
# - Zdroj dat
# - Dimenze (n Å™Ã¡dkÅ¯, m sloupcÅ¯)
# - Typy promÄ›nnÃ½ch
# - ÄŒasovÃ© obdobÃ­

## 3. ÄŒiÅ¡tÄ›nÃ­ dat
# - ChybÄ›jÃ­cÃ­ hodnoty
# - Outliers
# - Transformace promÄ›nnÃ½ch

## 4. UnivariÃ¡tnÃ­ analÃ½za
# Pro kaÅ¾dou promÄ›nnou:
# - PopisnÃ© statistiky
# - Vizualizace
# - Interpretace

## 5. BivariÃ¡tnÃ­ analÃ½za
# - Scatter ploty
# - Box ploty
# - Korelace
# - Vztahy mezi promÄ›nnÃ½mi

## 6. MultivariÃ¡tnÃ­ analÃ½za
# - SeskupenÃ© analÃ½zy
# - FacetovanÃ© grafy
# - Interakce mezi promÄ›nnÃ½mi

## 7. ZÃ¡vÄ›ry
# - HlavnÃ­ poznatky
# - PÅ™ekvapivÃ© nÃ¡lezy
# - DoporuÄenÃ­ pro dalÅ¡Ã­ analÃ½zu
```

---

# ğŸ”— UÅ¾iteÄnÃ© odkazy

- [R for Data Science - EDA](https://r4ds.had.co.nz/exploratory-data-analysis.html)
- [DataCamp - EDA in R](https://www.datacamp.com/tutorial/exploratory-data-analysis-in-r)
- [Quick-R: Descriptive Statistics](https://www.statmethods.net/stats/descriptives.html)
- [dplyr cheatsheet](https://github.com/rstudio/cheatsheets/blob/main/data-transformation.pdf)
- [ggplot2 cheatsheet](https://github.com/rstudio/cheatsheets/blob/main/data-visualization.pdf)

---

# ğŸ“š DoporuÄenÃ¡ literatura

- **Tukey, J. W.** (1977). *Exploratory Data Analysis*. Addison-Wesley.
- **Wickham, H. & Grolemund, G.** (2017). *R for Data Science*. O'Reilly.
- **Peng, R. D.** (2016). *Exploratory Data Analysis with R*. Leanpub.
- **Unwin, A.** (2015). *Graphical Data Analysis with R*. CRC Press.

---

# ğŸ’» UÅ¾iteÄnÃ© balÃ­ky pro EDA

```r
# ZÃ¡kladnÃ­ EDA
library(tidyverse)    # dplyr, ggplot2, tidyr
library(skimr)        # skim() - rychlÃ½ pÅ™ehled dat
library(DataExplorer) # AutomatickÃ© EDA reporty

# PopisnÃ© statistiky
library(psych)        # describe(), describeBy()
library(summarytools) # dfSummary()

# Vizualizace
library(GGally)       # ggpairs() - matice grafÅ¯
library(corrplot)     # KorelaÄnÃ­ grafy
library(ggridges)     # Ridge plots

# Tabulky
library(kableExtra)   # FormÃ¡tovÃ¡nÃ­ tabulek
library(gt)           # Grammar of tables
library(DT)           # InteraktivnÃ­ tabulky
```

---

# ğŸ“ Tipy pro efektivnÃ­ EDA

## 1. ZaÄnÄ›te jednoduÅ¡e
- Nejprve zÃ¡kladnÃ­ pÅ™ehled (`str()`, `summary()`)
- Pak jednotlivÃ© promÄ›nnÃ©
- AÅ¾ nakonec komplexnÃ­ vztahy

## 2. PouÅ¾Ã­vejte vizualizace
- Jeden obrÃ¡zek = tisÃ­c ÄÃ­sel
- Grafy odhalÃ­ vzory, kterÃ© statistiky nevidÃ­
- Kombinujte rÅ¯znÃ© typy grafÅ¯

## 3. Dokumentujte proces
- Zapisujte si poznatky
- Komentujte neobvyklÃ© nÃ¡lezy
- Formulujte hypotÃ©zy

## 4. BuÄte skeptiÄtÃ­
- OvÄ›Å™ujte pÅ™ekvapivÃ© vÃ½sledky
- Hledejte alternativnÃ­ vysvÄ›tlenÃ­
- Kontrolujte kvalitu dat

## 5. Iterujte
- EDA je iterativnÃ­ proces
- NovÃ© poznatky vedou k novÃ½m otÃ¡zkÃ¡m
- VraÅ¥te se a prozkoumejte hloubÄ›ji

---

<div style="text-align: center; margin-top: 50px; padding: 20px; background-color: #f0f0f0; border-radius: 10px;">
**VytvorenÃ© pre:** MPE_AVED, TÃ½Å¾deÅˆ 11, ECON MUNI  
**DÃ¡tum:** `r Sys.Date()`
</div>
