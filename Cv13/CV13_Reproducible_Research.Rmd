---
title: "CviÄenÃ­ 13: Reproducible Research"
subtitle: "MPE_AVED - AnalÃ½za a vizualizace ekonomickÃ½ch dat"
author: "VaÅ¡e meno"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
    number_sections: true
    theme: cosmo
    highlight: tango
    code_folding: show
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  warning = FALSE,
  message = FALSE,
  comment = "#>",
  fig.width = 8,
  fig.height = 6
)
```

# ğŸ“š Ãšvod

V tomto cviÄenÃ­ se nauÄÃ­te principy **reproducible research** (reprodukovatelnÃ©ho vÃ½zkumu):

- **Organizace projektu** - sprÃ¡vnÃ¡ struktura sloÅ¾ek a souborÅ¯
- **RMarkdown** - vytvÃ¡Å™enÃ­ dynamickÃ½ch reportÅ¯
- **Literate programming** - propojenÃ­ kÃ³du a textu
- **Verze kontrola** - Git a GitHub
- **Dokumentace** - komentÃ¡Å™e a README soubory
- **Best practices** - dobrÃ© nÃ¡vyky pro spolehlivou prÃ¡ci

CÃ­lem je, aby vaÅ¡e analÃ½zy byly:
- âœ… **ReprodukovatelnÃ©** - kdokoliv je mÅ¯Å¾e zopakovat
- âœ… **TransparentnÃ­** - proces je viditelnÃ½ a srozumitelnÃ½
- âœ… **OrganizovanÃ©** - snadnÃ© najÃ­t a pochopit

# ğŸ“¦ NaÄÃ­tÃ¡nÃ­ balÃ­kÅ¯

```{r packages}
# NaÄtÄ›te potÅ™ebnÃ© balÃ­ky


```

---

# ğŸ„ VÃ¡noce: Reproducible Research

## Co je reproducible research?

**Reproducible research** znamenÃ¡, Å¾e:
- VaÅ¡e vÃ½sledky lze zopakovat s pouÅ¾itÃ­m stejnÃ½ch dat a kÃ³du
- CelÃ½ proces od dat po vÃ½sledky je dokumentovanÃ½
- DalÅ¡Ã­ vÃ½zkumnÃ­ci mohou vaÅ¡i prÃ¡ci ovÄ›Å™it a navÃ¡zat na ni

## ProÄ je to dÅ¯leÅ¾itÃ©?

- ğŸ”¬ **VÄ›deckÃ¡ integrita** - ovÄ›Å™itelnost vÃ½sledkÅ¯
- ğŸ”„ **Efektivita** - snadnÃ¡ aktualizace analÃ½z
- ğŸ‘¥ **SpoluprÃ¡ce** - tÃ½movÃ¡ prÃ¡ce je jednoduÅ¡Å¡Ã­
- ğŸ“– **VzdÄ›lÃ¡vÃ¡nÃ­** - uÄenÃ­ se z prÃ¡ce druhÃ½ch
- ğŸ’¼ **Profesionalita** - standardnÃ­ praxe ve vÃ½zkumu i byznysu

## KlÃ­ÄovÃ© principy

1. **Jeden projekt = jeden adresÃ¡Å™** - vÅ¡e pohromadÄ›
2. **JasnÃ¡ struktura** - standardizovanÃ© sloÅ¾ky
3. **RelativnÃ­ cesty** - funguje vÅ¡ude
4. **Dokumentace** - komentÃ¡Å™e a README
5. **Version control** - sledovÃ¡nÃ­ zmÄ›n

---

# ğŸ“ Organizace projektu

SprÃ¡vnÃ¡ organizace projektu je zÃ¡klad reproducible research.

## DoporuÄenÃ¡ struktura

```
muj-projekt/
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/              # PÅ¯vodnÃ­, nedotÄenÃ¡ data
â”‚   â””â”€â”€ processed/        # ZpracovanÃ¡ data
â”‚
â”œâ”€â”€ R/                    # R skripty
â”‚   â”œâ”€â”€ 01_cleaning.R
â”‚   â”œâ”€â”€ 02_analysis.R
â”‚   â””â”€â”€ functions.R
â”‚
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ figures/          # Grafy
â”‚   â””â”€â”€ tables/           # Tabulky
â”‚
â”œâ”€â”€ docs/                 # Dokumentace a reporty
â”‚
â”œâ”€â”€ README.md             # Popis projektu
â”œâ”€â”€ muj-projekt.Rproj    # RStudio projekt
â””â”€â”€ analysis.Rmd          # HlavnÃ­ analÃ½za
```

## Ãškol 1: VytvoÅ™enÃ­ struktury projektu

**ZadÃ¡nÃ­:** VytvoÅ™te novÃ½ RStudio projekt s doporuÄenou strukturou sloÅ¾ek.

```{r ukol_org_1, eval=FALSE}
# VytvoÅ™enÃ­ adresÃ¡Å™ovÃ© struktury

# VytvoÅ™te sloÅ¾ky:
# - data/raw
# - data/processed
# - R
# - output/figures
# - output/tables
# - docs


```

**PoznÃ¡mka:** V RStudio pouÅ¾ijte File â†’ New Project â†’ New Directory â†’ New Project

## Ãškol 2: README soubor

**ZadÃ¡nÃ­:** VytvoÅ™te README.md soubor s popisem projektu.

README by mÄ›lo obsahovat:
- NÃ¡zev projektu
- StruÄnÃ½ popis
- Autora
- PoÅ¾adavky (R verze, balÃ­ky)
- Strukturu projektu
- Jak spustit analÃ½zu

```markdown
# NÃ¡zev projektu

## Popis
StruÄnÃ½ popis projektu a jeho cÃ­lÅ¯.

## Autor
JmÃ©no autora

## PoÅ¾adavky
- R verze 4.x nebo vyÅ¡Å¡Ã­
- BalÃ­ky: tidyverse, ggplot2, ...

## Struktura projektu
- `data/` - Data
- `R/` - Skripty
- `output/` - VÃ½stupy

## PouÅ¾itÃ­
1. OtevÅ™ete projekt v RStudio
2. SpusÅ¥te `analysis.Rmd`
```

---

# ğŸ“„ VytvoÅ™enÃ­ reportu

RMarkdown umoÅ¾Åˆuje vytvÃ¡Å™et dynamickÃ© reporty propojujÃ­cÃ­ text, kÃ³d a vÃ½stupy.

## Ãškol 1: ZÃ¡kladnÃ­ RMarkdown dokument

**ZadÃ¡nÃ­:** VytvoÅ™te novÃ½ RMarkdown dokument.

```{r ukol_report_1, eval=FALSE}
# V RStudio: File â†’ New File â†’ R Markdown...


```

Struktura RMarkdown dokumentu:
- **YAML hlaviÄka** - metadata (title, author, output)
- **Text** - Markdown formÃ¡tovÃ¡nÃ­
- **Code chunks** - R kÃ³d
- **Inline code** - kÃ³d v textu

## Ãškol 2: YAML hlaviÄka

**ZadÃ¡nÃ­:** Nastavte YAML hlaviÄku s pokroÄilÃ½mi moÅ¾nostmi.

```yaml
---
title: "MÅ¯j report"
author: "VaÅ¡e jmÃ©no"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
    number_sections: true
    theme: cosmo
    highlight: tango
    code_folding: show
    df_print: paged
---
```

## Ãškol 3: Markdown formÃ¡tovÃ¡nÃ­

**ZadÃ¡nÃ­:** ProcviÄte zÃ¡kladnÃ­ Markdown syntaxi.

```{r ukol_report_3, eval=FALSE}
# PouÅ¾ijte v RMarkdown dokumentu:

# # Nadpis ÃºrovnÄ› 1
# ## Nadpis ÃºrovnÄ› 2
# ### Nadpis ÃºrovnÄ› 3
#
# **tuÄnÃ½ text**
# *kurzÃ­va*
# ~~pÅ™eÅ¡krtnutÃ½ text~~
#
# - NeÄÃ­slovanÃ½ seznam
# - PoloÅ¾ka 2
#
# 1. ÄŒÃ­slovanÃ½ seznam
# 2. PoloÅ¾ka 2
#
# [odkaz](https://www.example.com)
# ![obrÃ¡zek](cesta/k/obrazku.png)
#
# > Citace
#
# `inline kÃ³d`
#
# ```
# blok kÃ³du
# ```


```

## Ãškol 4: Code chunks

**ZadÃ¡nÃ­:** VytvoÅ™te rÅ¯znÃ© typy code chunkÅ¯ s rÅ¯znÃ½mi moÅ¾nostmi.

```{r ukol_report_4}
# ZÃ¡kladnÃ­ chunk


```

```{r ukol_report_4_options, echo=FALSE}
# Chunk s moÅ¾nostmi:
# echo = FALSE       - nezobrazÃ­ kÃ³d
# eval = FALSE       - nespustÃ­ kÃ³d
# include = FALSE    - nezobrazÃ­ nic (ani kÃ³d ani vÃ½stup)
# warning = FALSE    - potlaÄÃ­ varovÃ¡nÃ­
# message = FALSE    - potlaÄÃ­ zprÃ¡vy
# fig.width = 8      - Å¡Ã­Å™ka grafu
# fig.height = 6     - vÃ½Å¡ka grafu


```

## Ãškol 5: Inline kÃ³d

**ZadÃ¡nÃ­:** PouÅ¾ijte inline kÃ³d pro dynamickÃ© hodnoty v textu.

```{r ukol_report_5}
# NapÅ™Ã­klad:
# PrÅ¯mÄ›rnÃ¡ hodnota je `r mean(x)`.
# AnalÃ½za byla provedena dne `r Sys.Date()`.


```

## Ãškol 6: NaÄtenÃ­ a zobrazenÃ­ dat

**ZadÃ¡nÃ­:** NaÄtÄ›te data a vytvoÅ™te pÅ™ehlednou tabulku.

```{r ukol_report_6}
# NaÄtÄ›te data


# ZobrazenÃ­ tabulky pomocÃ­ kable nebo DT


```

## Ãškol 7: Vizualizace

**ZadÃ¡nÃ­:** VytvoÅ™te graf a nastavte jeho velikost a popisky.

```{r ukol_report_7, fig.cap="Popis grafu"}
# VytvoÅ™te ggplot graf


```

## Ãškol 8: Tabulka vÃ½sledkÅ¯

**ZadÃ¡nÃ­:** VytvoÅ™te tabulku s vÃ½sledky analÃ½zy.

```{r ukol_report_8}
# PopisnÃ© statistiky


# RegresnÃ­ vÃ½sledky


```

## Ãškol 9: Child documents

**ZadÃ¡nÃ­:** RozdÄ›lte dlouhÃ½ report na vÃ­ce souborÅ¯.

```{r ukol_report_9, child='sections/part1.Rmd', eval=FALSE}
# V hlavnÃ­m dokumentu:
# ```{r child='sections/intro.Rmd'}
# ```


```

## Ãškol 10: ParametrizovanÃ© reporty

**ZadÃ¡nÃ­:** VytvoÅ™te parametrizovanÃ½ report.

```yaml
---
title: "ParametrizovanÃ½ report"
params:
  year: 2023
  country: "Czech Republic"
  data_file: "data/raw/data.csv"
---
```

```{r ukol_report_10, eval=FALSE}
# PouÅ¾itÃ­ parametrÅ¯:
# params$year
# params$country


```

---

# âœ¨ Finesy

PokroÄilÃ© techniky pro profesionÃ¡lnÃ­ reporty.

## Cache

```{r finesy_cache, cache=TRUE, eval=FALSE}
# UloÅ¾enÃ­ vÃ½sledkÅ¯ pro rychlejÅ¡Ã­ kompilaci
# UÅ¾iteÄnÃ© pro ÄasovÄ› nÃ¡roÄnÃ© vÃ½poÄty


```

## PodmÃ­nÄ›nÃ© zobrazenÃ­

```{r finesy_podminky, eval=FALSE}
# PodmÃ­nÄ›nÃ© zobrazenÃ­ obsahu podle parametrÅ¯


```

## VlastnÃ­ CSS

```{r finesy_css, eval=FALSE}
# V YAML:
# output:
#   html_document:
#     css: styles.css


```

## RÅ¯znÃ© vÃ½stupnÃ­ formÃ¡ty

```yaml
---
output:
  html_document:
    toc: true
  pdf_document:
    toc: true
  word_document:
    toc: true
---
```

## Cross-references

```{r finesy_crossref, eval=FALSE}
# Odkazy na sekce, tabulky a grafy
# VyÅ¾aduje bookdown balÃ­k


```

---

# ğŸ”„ Version Control (Git)

## ZÃ¡kladnÃ­ Git pÅ™Ã­kazy

```bash
# Inicializace repositÃ¡Å™e
git init

# PÅ™idÃ¡nÃ­ souborÅ¯
git add .

# Commit
git commit -m "Initial commit"

# Status
git status

# Historie
git log

# Push na GitHub
git push origin main
```

## .gitignore

Soubory, kterÃ© by nemÄ›ly bÃ½t verzovÃ¡ny:

```
# .gitignore
.Rproj.user
.Rhistory
.RData
.Ruserdata
data/raw/*
*.html
*.pdf
```

## Best practices pro Git

- ğŸ“ PopisnÃ© commit zprÃ¡vy
- ğŸ”„ ÄŒastÃ© commity malÃ½ch zmÄ›n
- ğŸŒ¿ PouÅ¾itÃ­ branchÃ­ pro novÃ© funkce
- ğŸš« Neverzovat velkÃ© soubory nebo data
- ğŸ“– README a dokumentace

---

# ğŸ’¡ Best Practices

## PojmenovÃ¡nÃ­ souborÅ¯

âœ… **DobrÃ©:**
```
01_data-cleaning.R
02_exploratory-analysis.R
03_model-fitting.R
figure-01_scatter-plot.png
```

âŒ **Å patnÃ©:**
```
final_FINAL.R
untitled.R
graf 1.png
data copy 2.csv
```

**Pravidla:**
- MalÃ¡ pÃ­smena
- Bez mezer (pouÅ¾ijte `-` nebo `_`)
- ÄŒÃ­selnÃ© prefixy pro poÅ™adÃ­
- PopisnÃ© nÃ¡zvy

## KomentovÃ¡nÃ­ kÃ³du

```r
# âœ… DobrÃ© komentÃ¡Å™e - vysvÄ›tlujÃ­ PROÄŒ
# PouÅ¾Ã­vÃ¡me log transformaci kvÅ¯li zkosenÃ­ dat
data <- data %>%
  mutate(log_income = log(income))

# âŒ Å patnÃ© komentÃ¡Å™e - popisujÃ­ CO (to je zÅ™ejmÃ©)
# VytvoÅ™enÃ­ novÃ©ho sloupce
data$new_col <- data$x + data$y
```

## RelativnÃ­ cesty

```r
# âœ… DobÅ™e - relativnÃ­ cesta
read_csv("data/raw/data.csv")

# âŒ Å patnÄ› - absolutnÃ­ cesta
read_csv("C:/Users/Jmeno/Documents/projekt/data/raw/data.csv")
```

## Reproducible seeds

```r
# Pro reprodukovatelnÃ© nÃ¡hodnÃ© vÃ½sledky
set.seed(123)
```

## Session info

```{r session_info, eval=FALSE}
# Na konci reportu
sessionInfo()
# nebo
devtools::session_info()
```

---

# ğŸ“Š PÅ™Ã­klady vÃ½stupnÃ­ch formÃ¡tÅ¯

## HTML dokument

```yaml
output:
  html_document:
    toc: true
    toc_float: true
    theme: cosmo
    code_download: true
    code_folding: hide
```

## PDF dokument

```yaml
output:
  pdf_document:
    toc: true
    number_sections: true
    latex_engine: xelatex
```

## Word dokument

```yaml
output:
  word_document:
    reference_docx: template.docx
```

## Prezentace

```yaml
output:
  ioslides_presentation:
    widescreen: true
  slidy_presentation: default
  beamer_presentation:
    theme: "Madrid"
```

## Dashboard (flexdashboard)

```yaml
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
```

---

# ğŸ¯ Checklist reproducible research

- [ ] PouÅ¾Ã­vÃ¡m RStudio projekty (.Rproj)
- [ ] MÃ¡m jasnou adresÃ¡Å™ovou strukturu
- [ ] PouÅ¾Ã­vÃ¡m relativnÃ­ cesty
- [ ] Data jsou oddÄ›len od kÃ³du
- [ ] MÃ¡m README soubor s popisem projektu
- [ ] KÃ³d je komentovanÃ½ a srozumitelnÃ½
- [ ] PouÅ¾Ã­vÃ¡m RMarkdown pro reporty
- [ ] MÃ¡m nastavenÃ½ Git pro verzovÃ¡nÃ­
- [ ] Soubory jsou smysluplnÄ› pojmenovanÃ©
- [ ] Projekt lze spustit na jinÃ©m poÄÃ­taÄi
- [ ] Dokumentuji session info
- [ ] PouÅ¾Ã­vÃ¡m set.seed() pro reprodukovatelnost

---

# ğŸ”— UÅ¾iteÄnÃ© odkazy

## RMarkdown

- [R Markdown: The Definitive Guide](https://bookdown.org/yihui/rmarkdown/)
- [R Markdown Cheatsheet](https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf)
- [R Markdown Reference Guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf)

## Reproducible Research

- [British Ecological Society Guide](https://www.britishecologicalsociety.org/publications/guides-to/)
- [rOpenSci Reproducibility Guide](https://ropensci.github.io/reproducibility-guide/)
- [The Turing Way](https://the-turing-way.netlify.app/)

## Git a GitHub

- [Happy Git with R](https://happygitwithr.com/)
- [Git Handbook](https://guides.github.com/introduction/git-handbook/)
- [GitHub Guides](https://guides.github.com/)

## ProjektovÃ¡ organizace

- [Project-oriented workflow](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)
- [R for Data Science - Workflow](https://r4ds.had.co.nz/workflow-projects.html)

---

# ğŸ“š PouÅ¾itÃ¡ literatura

- **Xie, Y., Allaire, J. J., & Grolemund, G.** (2018). *R Markdown: The Definitive Guide*. Chapman and Hall/CRC.
- **Gandrud, C.** (2020). *Reproducible Research with R and RStudio*. CRC Press.
- **Kitzes, J., Turek, D., & Deniz, F.** (Eds.). (2017). *The Practice of Reproducible Research*. University of California Press.
- **Wilson, G., et al.** (2017). Good enough practices in scientific computing. *PLOS Computational Biology*, 13(6).

---

# ğŸ’» UÅ¾iteÄnÃ© balÃ­ky

```r
# RMarkdown ekosystÃ©m
install.packages("rmarkdown")
install.packages("knitr")
install.packages("bookdown")
install.packages("blogdown")
install.packages("pagedown")

# Tabulky
install.packages("kableExtra")
install.packages("gt")
install.packages("DT")

# Reporty
install.packages("flexdashboard")
install.packages("shiny")

# Dokumentace
install.packages("roxygen2")
install.packages("pkgdown")

# Version control
install.packages("usethis")
install.packages("gitcreds")
```

---

# ğŸ“ ZÃ¡vÄ›reÄnÃ© poznÃ¡mky

## ProÄ investovat Äas do reproducibility?

1. **Å etÅ™Ã­ Äas v dlouhodobÃ©m horizontu** - aktualizace analÃ½z je snadnÃ¡
2. **ZvyÅ¡uje kvalitu prÃ¡ce** - systematickÃ½ pÅ™Ã­stup odhalÃ­ chyby
3. **UsnadÅˆuje spoluprÃ¡ci** - kolegovÃ© chÃ¡pou vaÅ¡i prÃ¡ci
4. **Posiluje dÅ¯vÄ›ru** - transparentnÃ­ proces
5. **Je to standard** - oÄekÃ¡vÃ¡ se ve vÃ½zkumu i praxi

## ZlatÃ¡ pravidla

> "Your closest collaborator is you six months ago, but you don't reply to emails."
> - Karl Broman

> "If you can't reproduce your own work after six months, what are the chances someone else will be able to?"

---

<div style="text-align: center; margin-top: 50px; padding: 20px; background-color: #f0f0f0; border-radius: 10px;">
**VytvorenÃ© pre:** MPE_AVED, TÃ½Å¾deÅˆ 13, ECON MUNI  
**DÃ¡tum:** `r Sys.Date()`  
**Tema:** Reproducible Research - VÃ¡noÄnÃ­ speciÃ¡l ğŸ„
</div>
